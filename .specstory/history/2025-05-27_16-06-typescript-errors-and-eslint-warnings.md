<!-- Generated by SpecStory -->

# TypeScript Errors and ESLint Warnings (2025-05-27 11:06:21)

_**User**_

[{
	"resource": "/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/src/app/api/geofences/alerts/route.ts",
	"owner": "eslint9",
	"code": {
		"value": "@typescript-eslint/no-explicit-any",
		"target": {
			"$mid": 1,
			"path": "/rules/no-explicit-any",
			"scheme": "https",
			"authority": "typescript-eslint.io"
		}
	},
	"severity": 8,
	"message": "Unexpected any. Specify a different type.",
	"source": "eslint",
	"startLineNumber": 35,
	"startColumn": 71,
	"endLineNumber": 35,
	"endColumn": 74,
	"modelVersionId": 1
},{
	"resource": "/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/src/app/api/geofences/alerts/route.ts",
	"owner": "typescript",
	"code": "2741",
	"severity": 8,
	"message": "Property 'where' is missing in type 'Omit<import(\"/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/node_modules/drizzle-orm/pg-core/query-builders/select\").PgSelectBase<\"geofence_alerts\", { id: import(\"/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/node_modules/drizzle-orm/pg-core/columns/common\").PgColumn<{ name...' but required in type 'Omit<import(\"/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/node_modules/drizzle-orm/pg-core/query-builders/select\").PgSelectBase<\"geofence_alerts\", { id: import(\"/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/node_modules/drizzle-orm/pg-core/columns/common\").PgColumn<{ name...'.",
	"source": "ts",
	"startLineNumber": 58,
	"startColumn": 13,
	"endLineNumber": 58,
	"endColumn": 18,
	"relatedInformation": [
		{
			"startLineNumber": 467,
			"startColumn": 5,
			"endLineNumber": 467,
			"endColumn": 10,
			"message": "'where' is declared here.",
			"resource": "/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/node_modules/drizzle-orm/pg-core/query-builders/select.d.ts"
		}
	],
	"modelVersionId": 1
},{
	"resource": "/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/src/app/api/geofences/alerts/route.ts",
	"owner": "typescript",
	"code": "2322",
	"severity": 8,
	"message": "Type 'string' is not assignable to type 'SQL<unknown> | Aliased<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | PgTable<TableConfig> | SelectedFieldsFlat<...>'.",
	"source": "ts",
	"startLineNumber": 65,
	"startColumn": 23,
	"endLineNumber": 65,
	"endColumn": 28,
	"modelVersionId": 1
},{
	"resource": "/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/src/app/api/geofences/alerts/route.ts",
	"owner": "typescript",
	"code": "2740",
	"severity": 8,
	"message": "Type 'Omit<PgSelectBase<\"geofence_alerts\", SelectedFields, \"partial\", Record<\"geofence_alerts\", \"not-null\">, false, \"where\", { [x: string]: unknown; }[], { [x: string]: never; }>, \"where\">' is missing the following properties from type 'PgSelectBase<\"geofence_alerts\", SelectedFields, \"partial\", Record<\"geofence_alerts\", \"not-null\">, false, never, { [x: string]: unknown; }[], { [x: string]: never; }>': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.",
	"source": "ts",
	"startLineNumber": 69,
	"startColumn": 13,
	"endLineNumber": 69,
	"endColumn": 23,
	"modelVersionId": 1
},{
	"resource": "/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/src/app/api/geofences/alerts/route.ts",
	"owner": "eslint9",
	"code": {
		"value": "@typescript-eslint/no-explicit-any",
		"target": {
			"$mid": 1,
			"path": "/rules/no-explicit-any",
			"scheme": "https",
			"authority": "typescript-eslint.io"
		}
	},
	"severity": 8,
	"message": "Unexpected any. Specify a different type.",
	"source": "eslint",
	"startLineNumber": 72,
	"startColumn": 49,
	"endLineNumber": 72,
	"endColumn": 52,
	"modelVersionId": 1
},{
	"resource": "/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/src/app/api/geofences/alerts/route.ts",
	"owner": "eslint9",
	"code": {
		"value": "@typescript-eslint/no-explicit-any",
		"target": {
			"$mid": 1,
			"path": "/rules/no-explicit-any",
			"scheme": "https",
			"authority": "typescript-eslint.io"
		}
	},
	"severity": 8,
	"message": "Unexpected any. Specify a different type.",
	"source": "eslint",
	"startLineNumber": 181,
	"startColumn": 27,
	"endLineNumber": 181,
	"endColumn": 30,
	"modelVersionId": 1
},{
	"resource": "/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/src/app/api/geofences/alerts/route.ts",
	"owner": "typescript",
	"code": "2769",
	"severity": 8,
	"message": "No overload matches this call.\n  Overload 1 of 3, '(left: PgColumn<{ name: \"id\"; tableName: \"geofence_alerts\"; dataType: \"string\"; columnType: \"PgUUID\"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.\n    Argument of type 'any[]' is not assignable to parameter of type 'string | SQLWrapper'.\n  Overload 2 of 3, '(left: Aliased<any[]>, right: any[] | SQLWrapper): SQL<unknown>', gave the following error.\n    Argument of type 'PgColumn<{ name: \"id\"; tableName: \"geofence_alerts\"; dataType: \"string\"; columnType: \"PgUUID\"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<any[]>'.\n      Type 'PgColumn<{ name: \"id\"; tableName: \"geofence_alerts\"; dataType: \"string\"; columnType: \"PgUUID\"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<any[]>': sql, fieldAlias\n  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.\n    Argument of type 'PgColumn<{ name: \"id\"; tableName: \"geofence_alerts\"; dataType: \"string\"; columnType: \"PgUUID\"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.",
	"source": "ts",
	"startLineNumber": 189,
	"startColumn": 20,
	"endLineNumber": 189,
	"endColumn": 22,
	"modelVersionId": 1
},{
	"resource": "/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/src/app/api/geofences/alerts/route.ts",
	"owner": "unsafe-typescript",
	"severity": 2,
	"message": "Unsafe TypeScript assertion: 'alertType as any'.\n\nType assertions in TypeScript are technically slightly different from what is meant by type casting in other languages. Type assertions are a way of saying to the compiler \"I know better than you, it's actually this other type!\" Use them sparingly, and use the 'satisfies' operator instead where possible.",
	"startLineNumber": 35,
	"startColumn": 68,
	"endLineNumber": 35,
	"endColumn": 70,
	"modelVersionId": 1
},{
	"resource": "/Users/williamcarrico/Web App Design/woody-disney-vacation-planning/src/app/api/geofences/alerts/route.ts",
	"owner": "unsafe-typescript",
	"severity": 2,
	"message": "Unsafe TypeScript assertion: 'await countQuery as any'.\n\nType assertions in TypeScript are technically slightly different from what is meant by type casting in other languages. Type assertions are a way of saying to the compiler \"I know better than you, it's actually this other type!\" Use them sparingly, and use the 'satisfies' operator instead where possible.",
	"startLineNumber": 72,
	"startColumn": 46,
	"endLineNumber": 72,
	"endColumn": 48,
	"modelVersionId": 1
}]

---

_**Assistant**_

I'll help you fix the TypeScript and ESLint errors in your geofence alerts API route. Let me first examine the database schema to understand the proper types, then fix each issue.

---

Read file: src/db/schema/locations.ts

---

Now let me check the Drizzle ORM imports to understand the proper way to handle the query building:

---

<details>
            <summary>Grep search for "import.*drizzle-orm" • **15** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/db/index.ts` | Lundefined | `import { drizzle } from 'drizzle-orm/postgres-js'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/db/schema/itineraries.ts` | Lundefined | `import { pgTable, text, timestamp, uuid, json, boolean, integer } from 'drizzle-orm/pg-core'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/db/schema/users.ts` | Lundefined | `import { pgTable, text, timestamp, boolean, jsonb } from 'drizzle-orm/pg-core'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/db/schema/locations.ts` | Lundefined | `import { pgTable, text, timestamp, uuid, json, boolean, real, integer, pgEnum } from 'drizzle-orm/pg-core'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/db/schema/vacations.ts` | Lundefined | `import { pgTable, text, timestamp, uuid, json, boolean, date } from 'drizzle-orm/pg-core'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/app/api/itinerary/%5BitineraryId%5D/route.ts` | L4 | `import { eq, and } from 'drizzle-orm'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/app/api/geofences/%5BgeofenceId%5D/route.ts` | L3 | `import { eq } from 'drizzle-orm'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/app/api/user/location/route.ts` | L3 | `import { eq, and, desc, gte, lte, avg, count, max } from 'drizzle-orm'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/app/api/geofences/route.ts` | L3 | `import { eq, and } from 'drizzle-orm'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/app/api/geofences/alerts/route.ts` | L3 | `import { eq, and, desc, gte, lte } from 'drizzle-orm'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/app/api/vacations/%5BvacationId%5D/route.ts` | L5 | `import { eq, and } from 'drizzle-orm'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/app/api/geofences/alerts/route.ts` | L3 | `import { eq, and, desc, gte, lte } from 'drizzle-orm'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/app/api/geofences/route.ts` | L3 | `import { eq, and } from 'drizzle-orm'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/app/api/vacations/%5BvacationId%5D/route.ts` | L5 | `import { eq, and } from 'drizzle-orm'` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/db/schema/itineraries.ts` | Lundefined | `import { pgTable, text, timestamp, uuid, json, boolean, integer } from 'drizzle-orm/pg-core'` |

</details>

---

Let me check how other API routes handle similar Drizzle queries to understand the proper patterns:

---

Read file: src/app/api/user/location/route.ts

---

Now let me check how the count query is properly handled in Drizzle:

---

<details>
            <summary>Grep search for "count\(" • **3** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/app/api/geofences/alerts/route.ts` | L64 | `.select({ count: 'count(*)' })` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/app/api/user/location/route.ts` | L264 | `totalPoints: count(),` |
| `file:///Users/williamcarrico/Web%20App%20Design/woody-disney-vacation-planning/src/app/api/geofences/alerts/route.ts` | L64 | `.select({ count: 'count(*)' })` |

</details>

---

Let me check how the count function is properly imported and used:

---

Read file: src/app/api/user/location/route.ts

---

Now I need to check how the `inArray` function should be used for the update query:

---

<details>
            <summary>Grep search for "inArray" • **0** files</summary>
        
No results found
</details>

---

Let me check the Drizzle documentation pattern for updating multiple records:

---

<details>
            <summary>Searched web "drizzle orm update multiple records where in array typescript" • **6** results</summary>
        
| Title | URL |
|-------|-----|
| Update many with different values for each row - Drizzle ORM | https://orm.drizzle.team/docs/guides/update-many-with-different-value |
| Update - Drizzle ORM | https://orm.drizzle.team/docs/update |
| Update multiple rows (CASE) #2518 | https://github.com/drizzle-team/drizzle-orm/discussions/2518 |
| Dynamic 'where' statements in Drizzle | https://brockherion.dev/blog/posts/dynamic-where-statements-in-drizzle/ |
| Adding Conditional Statements to Drizzle Queries | https://www.walterkjenkins.com/blog/Adding%20Conditional%20Statement%20to%20Drizzle%20Queries |
| How to setup Drizzle ORM in Node.js with Typescript and Perform CRUD operation | https://everythingcs.dev/blog/nodejs-drizzle-orm-setup-crud-operation-typescript/ |

</details>

---

Now I have all the information I need to fix the issues. Let me create the corrected version of the file:

---

```diff
  import { NextRequest, NextResponse } from 'next/server'
  import { db } from '@/db'
- import { geofenceAlerts, NewGeofenceAlert } from '@/db/schema/locations'
- import { eq, and, desc, gte, lte } from 'drizzle-orm'
+ import { geofenceAlerts, NewGeofenceAlert, alertTypeEnum } from '@/db/schema/locations'
+ import { eq, and, desc, gte, lte, count, inArray } from 'drizzle-orm'
  
  export async function GET(request: NextRequest) {
```

```diff
  
          if (alertType) {
-             conditions.push(eq(geofenceAlerts.alertType, alertType as any))
+             // Type assertion is safe here since we validate against enum values below
+             const validAlertTypes = ['entry', 'exit', 'proximity', 'separation', 'safety'] as const
+             if (validAlertTypes.includes(alertType as typeof validAlertTypes[number])) {
+                 conditions.push(eq(geofenceAlerts.alertType, alertType as typeof validAlertTypes[number]))
+             }
          }
  
```

```diff
          }
  
-         let query = db
+         // Build the query properly
+         const baseQuery = db
              .select()
              .from(geofenceAlerts)
```

```diff
              .offset(offset)
  
-         if (conditions.length > 0) {
-             query = query.where(and(...conditions))
-         }
+         const query = conditions.length > 0 
+             ? baseQuery.where(and(...conditions))
+             : baseQuery
  
          const alerts = await query
  
-         // Get total count for pagination
-         let countQuery = db
-             .select({ count: 'count(*)' })
+         // Get total count for pagination using proper count function
+         const baseCountQuery = db
+             .select({ count: count() })
              .from(geofenceAlerts)
  
-         if (conditions.length > 0) {
-             countQuery = countQuery.where(and(...conditions))
-         }
+         const countQuery = conditions.length > 0
+             ? baseCountQuery.where(and(...conditions))
+             : baseCountQuery
  
-         const [{ count }] = await countQuery as any
+         const [{ count: totalCount }] = await countQuery
  
          return NextResponse.json({
              alerts,
              pagination: {
-                 total: parseInt(count),
+                 total: totalCount,
                  limit,
                  offset,
-                 hasMore: offset + limit < parseInt(count)
+                 hasMore: offset + limit < totalCount
              }
          })
```

```diff
  
          // Validate alert type
-         const validAlertTypes = ['entry', 'exit', 'proximity', 'separation', 'safety']
+         const validAlertTypes = ['entry', 'exit', 'proximity', 'separation', 'safety'] as const
          if (!validAlertTypes.includes(body.alertType)) {
              return NextResponse.json(
```

```diff
          }
  
-         // Update multiple alerts
-         const updateData: any = {
+         // Prepare update data with proper typing
+         const updateData: Partial<Pick<typeof geofenceAlerts.$inferSelect, 'isRead' | 'readAt'>> = {
              isRead,
              ...(isRead && { readAt: new Date() })
          }
  
+         // Update multiple alerts using inArray for proper array handling
          const updatedAlerts = await db
              .update(geofenceAlerts)
              .set(updateData)
-             .where(eq(geofenceAlerts.id, alertIds))
+             .where(inArray(geofenceAlerts.id, alertIds))
              .returning()
  
```

---

I need to remove the unused import since we're not using the enum directly:

---



---

Perfect! Now let me run a quick check to make sure all the errors are resolved:

---

```bash
cd "/Users/williamcarrico/Web App Design/woody-disney-vacation-planning" && npx eslint src/app/api/geofences/alerts/route.ts --format=compact
```

```
The compact formatter is no longer part of core ESLint. Install it manually with
 `npm install -D eslint-form
atter-compact`
                            
```

---

```bash
npx eslint src/app/api/geofences/alerts/route.ts
```

```
williamcarrico@CIA woody-disney-vacation-planning % 

```

---

Excellent! All the ESLint errors have been resolved. Let me also run TypeScript check to make sure there are no type errors:

---

```bash
npx tsc --noEmit --skipLibCheck src/app/api/geofences/alerts/route.ts
```

```
<--skipLibCheck src/app/api/geofences/alerts/route.ts
src/app/api/geofences/alerts/route.ts:2:20 - error TS2307: Cannot find module '@/db' or its corresponding ty
pe declarations.

2 import { db } from '@/db'
                     ~~~~~~

src/app/api/geofences/alerts/route.ts:3:50 - error TS2307: Cannot find module '@/db/schema/locations' or its
 corresponding type declarations.

3 import { geofenceAlerts, NewGeofenceAlert } from '@/db/schema/locations'
                                                   ~~~~~~~~~~~~~~~~~~~~~~~


Found 2 errors in the same file, starting at: src/app/api/geofences/alerts/route.ts:2

williamcarrico@CIA woody-disney-vacation-planning %
```

---

The TypeScript errors are just about module resolution (the `@/` alias), which is expected when running TypeScript directly on a single file. These aren't actual type errors in our code. Let me verify by running the full project TypeScript check:

---

```bash
npx tsc --noEmit
```

```
williamcarrico@CIA woody-disney-vacation-planning % 
 50         __tag__: 'GET'
    ~~~~~~~~~~~~~~~~~~~~~~
... 
 52         __param_type__: SecondArg<MaybeField<TEntry, 'GET'>>
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 53       },
    ~~~~~~~

  .next/types/app/api/parks/route.ts:32:23
    32 type RouteContext = { params: Promise<SegmentParams> }
                             ~~~~~~
    'params' is declared here.

.next/types/app/api/restaurants/[restaurantId]/route.ts:49:7 - error TS2344: Type '{ __tag__: "GET"; __param
_position__: "second"; __param_type__: { params: { restaurantId: string; }; }; }' does not satisfy the const
raint 'ParamCheck<RouteContext>'.
  The types of '__param_type__.params' are incompatible between these types.
    Type '{ restaurantId: string; }' is missing the following properties from type 'Promise<any>': then, cat
ch, finally, [Symbol.toStringTag]

 49       {
          ~
 50         __tag__: 'GET'
    ~~~~~~~~~~~~~~~~~~~~~~
... 
 52         __param_type__: SecondArg<MaybeField<TEntry, 'GET'>>
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 53       },
    ~~~~~~~

.next/types/app/api/restaurants/[restaurantId]/route.ts:283:7 - error TS2344: Type '{ __tag__: "PATCH"; __pa
ram_position__: "second"; __param_type__: { params: { restaurantId: string; }; }; }' does not satisfy the co
nstraint 'ParamCheck<RouteContext>'.
  The types of '__param_type__.params' are incompatible between these types.
    Type '{ restaurantId: string; }' is missing the following properties from type 'Promise<any>': then, cat
ch, finally, [Symbol.toStringTag]

283       {
          ~
284         __tag__: 'PATCH'
    ~~~~~~~~~~~~~~~~~~~~~~~~
... 
286         __param_type__: SecondArg<MaybeField<TEntry, 'PATCH'>>
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
287       },
    ~~~~~~~

.next/types/app/api/vacations/[vacationId]/events/route.ts:49:7 - error TS2344: Type '{ __tag__: "GET"; __pa
ram_position__: "second"; __param_type__: { params: { vacationId: string; }; }; }' does not satisfy the cons
traint 'ParamCheck<RouteContext>'.
  The types of '__param_type__.params' are incompatible between these types.
    Type '{ vacationId: string; }' is missing the following properties from type 'Promise<any>': then, catch
, finally, [Symbol.toStringTag]

 49       {
          ~
 50         __tag__: 'GET'
    ~~~~~~~~~~~~~~~~~~~~~~
... 
 52         __param_type__: SecondArg<MaybeField<TEntry, 'GET'>>
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 53       },
    ~~~~~~~

.next/types/app/api/vacations/[vacationId]/events/route.ts:166:7 - error TS2344: Type '{ __tag__: "POST"; __
param_position__: "second"; __param_type__: { params: { vacationId: string; }; }; }' does not satisfy the co
nstraint 'ParamCheck<RouteContext>'.
  The types of '__param_type__.params' are incompatible between these types.
    Type '{ vacationId: string; }' is missing the following properties from type 'Promise<any>': then, catch
, finally, [Symbol.toStringTag]

166       {
          ~
167         __tag__: 'POST'
    ~~~~~~~~~~~~~~~~~~~~~~~
... 
169         __param_type__: SecondArg<MaybeField<TEntry, 'POST'>>
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
170       },
    ~~~~~~~

.next/types/app/api/vacations/[vacationId]/events/route.ts:244:7 - error TS2344: Type '{ __tag__: "DELETE"; 
__param_position__: "second"; __param_type__: { params: { vacationId: string; }; }; }' does not satisfy the
constraint 'ParamCheck<RouteContext>'.
  The types of '__param_type__.params' are incompatible between these types.
    Type '{ vacationId: string; }' is missing the following properties from type 'Promise<any>': then, catch
, finally, [Symbol.toStringTag]

244       {
          ~
245         __tag__: 'DELETE'
    ~~~~~~~~~~~~~~~~~~~~~~~~~
... 
247         __param_type__: SecondArg<MaybeField<TEntry, 'DELETE'>>
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
248       },
    ~~~~~~~

.next/types/app/api/vacations/[vacationId]/events/route.ts:283:7 - error TS2344: Type '{ __tag__: "PATCH"; _
_param_position__: "second"; __param_type__: { params: { vacationId: string; }; }; }' does not satisfy the c
onstraint 'ParamCheck<RouteContext>'.
  The types of '__param_type__.params' are incompatible between these types.
    Type '{ vacationId: string; }' is missing the following properties from type 'Promise<any>': then, catch
, finally, [Symbol.toStringTag]

283       {
          ~
284         __tag__: 'PATCH'
    ~~~~~~~~~~~~~~~~~~~~~~~~
... 
286         __param_type__: SecondArg<MaybeField<TEntry, 'PATCH'>>
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
287       },
    ~~~~~~~

.next/types/app/api/vacations/[vacationId]/route.ts:49:7 - error TS2344: Type '{ __tag__: "GET"; __param_pos
ition__: "second"; __param_type__: { params: { vacationId: string; }; }; }' does not satisfy the constraint
'ParamCheck<RouteContext>'.
  The types of '__param_type__.params' are incompatible between these types.
    Type '{ vacationId: string; }' is missing the following properties from type 'Promise<any>': then, catch
, finally, [Symbol.toStringTag]

 49       {
          ~
 50         __tag__: 'GET'
    ~~~~~~~~~~~~~~~~~~~~~~
... 
 52         __param_type__: SecondArg<MaybeField<TEntry, 'GET'>>
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 53       },
    ~~~~~~~

.next/types/app/api/vacations/[vacationId]/route.ts:244:7 - error TS2344: Type '{ __tag__: "DELETE"; __param
_position__: "second"; __param_type__: { params: { vacationId: string; }; }; }' does not satisfy the constra
int 'ParamCheck<RouteContext>'.
  The types of '__param_type__.params' are incompatible between these types.
    Type '{ vacationId: string; }' is missing the following properties from type 'Promise<any>': then, catch
, finally, [Symbol.toStringTag]

244       {
          ~
245         __tag__: 'DELETE'
    ~~~~~~~~~~~~~~~~~~~~~~~~~
... 
247         __param_type__: SecondArg<MaybeField<TEntry, 'DELETE'>>
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
248       },
    ~~~~~~~

.next/types/app/api/vacations/[vacationId]/route.ts:283:7 - error TS2344: Type '{ __tag__: "PATCH"; __param_
position__: "second"; __param_type__: { params: { vacationId: string; }; }; }' does not satisfy the constrai
nt 'ParamCheck<RouteContext>'.
  The types of '__param_type__.params' are incompatible between these types.
    Type '{ vacationId: string; }' is missing the following properties from type 'Promise<any>': then, catch
, finally, [Symbol.toStringTag]

283       {
          ~
284         __tag__: 'PATCH'
    ~~~~~~~~~~~~~~~~~~~~~~~~
... 
286         __param_type__: SecondArg<MaybeField<TEntry, 'PATCH'>>
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
287       },
    ~~~~~~~

.next/types/app/dashboard/disneysprings/[locationId]/page.ts:34:29 - error TS2344: Type 'DisneySpringsDetail
PageProps' does not satisfy the constraint 'PageProps'.
  Types of property 'params' are incompatible.
    Type '{ locationId: string; }' is missing the following properties from type 'Promise<any>': then, catch
, finally, [Symbol.toStringTag]

34 checkFields<Diff<PageProps, FirstArg<TEntry['default']>, 'default'>>()
                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~

.next/types/app/dashboard/events/[eventId]/page.ts:34:29 - error TS2344: Type 'EventPageProps' does not sati
sfy the constraint 'PageProps'.
  Types of property 'params' are incompatible.
    Type '{ eventId: string; }' is missing the following properties from type 'Promise<any>': then, catch, f
inally, [Symbol.toStringTag]

34 checkFields<Diff<PageProps, FirstArg<TEntry['default']>, 'default'>>()
                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~

.next/types/app/dashboard/events/[eventId]/page.ts:38:31 - error TS2344: Type 'EventPageProps' does not sati
sfy the constraint 'PageProps'.
  Types of property 'params' are incompatible.
    Type '{ eventId: string; }' is missing the following properties from type 'Promise<any>': then, catch, f
inally, [Symbol.toStringTag]

38   checkFields<Diff<PageProps, FirstArg<MaybeField<TEntry, 'generateMetadata'>>, 'generateMetadata'>>()
                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.next/types/app/dashboard/group/page.ts:34:29 - error TS2344: Type '{ readonly params: { readonly vacationId
?: string | undefined; }; }' does not satisfy the constraint 'PageProps'.
  Types of property 'params' are incompatible.
    Type '{ readonly vacationId?: string | undefined; }' is missing the following properties from type 'Prom
ise<any>': then, catch, finally, [Symbol.toStringTag]

34 checkFields<Diff<PageProps, FirstArg<TEntry['default']>, 'default'>>()
                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~

.next/types/app/dashboard/itinerary/[itineraryId]/page.ts:34:29 - error TS2344: Type 'ItineraryPageProps' do
es not satisfy the constraint 'PageProps'.
  Types of property 'params' are incompatible.
    Type '{ itineraryId: string; }' is missing the following properties from type 'Promise<any>': then, catc
h, finally, [Symbol.toStringTag]

34 checkFields<Diff<PageProps, FirstArg<TEntry['default']>, 'default'>>()
                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~

.next/types/app/dashboard/planning/page.ts:34:29 - error TS2344: Type '{ readonly params?: { readonly vacati
onId?: string | undefined; } | undefined; }' does not satisfy the constraint 'PageProps'.
  Types of property 'params' are incompatible.
    Type '{ readonly vacationId?: string | undefined; } | undefined' is not assignable to type 'Promise<any>
 | undefined'.
      Type '{ readonly vacationId?: string | undefined; }' is missing the following properties from type 'Pr
omise<any>': then, catch, finally, [Symbol.toStringTag]

34 checkFields<Diff<PageProps, FirstArg<TEntry['default']>, 'default'>>()
                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~

.next/types/app/examples/firebase-realtime/page.ts:2:24 - error TS2307: Cannot find module '../../../../../s
rc/app/examples/firebase-realtime/page.js' or its corresponding type declarations.

2 import * as entry from '../../../../../src/app/examples/firebase-realtime/page.js'
                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.next/types/app/examples/firebase-realtime/page.ts:5:29 - error TS2307: Cannot find module '../../../../../s
rc/app/examples/firebase-realtime/page.js' or its corresponding type declarations.

5 type TEntry = typeof import('../../../../../src/app/examples/firebase-realtime/page.js')
                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.next/types/app/examples/gsap/page.ts:2:24 - error TS2307: Cannot find module '../../../../../src/app/exampl
es/gsap/page.js' or its corresponding type declarations.

2 import * as entry from '../../../../../src/app/examples/gsap/page.js'
                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.next/types/app/examples/gsap/page.ts:5:29 - error TS2307: Cannot find module '../../../../../src/app/exampl
es/gsap/page.js' or its corresponding type declarations.

5 type TEntry = typeof import('../../../../../src/app/examples/gsap/page.js')
                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.next/types/app/shared-itinerary/[shareCode]/page.ts:34:29 - error TS2344: Type 'SharedItineraryPageProps' d
oes not satisfy the constraint 'PageProps'.
  Types of property 'params' are incompatible.
    Type '{ shareCode: string; }' is missing the following properties from type 'Promise<any>': then, catch,
 finally, [Symbol.toStringTag]

34 checkFields<Diff<PageProps, FirstArg<TEntry['default']>, 'default'>>()
                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~

next.config.ts:71:41 - error TS7031: Binding element 'name' implicitly has an 'any' type.

71         config.resolve.alias.forEach(({ name, alias }) => {
                                           ~~~~

next.config.ts:71:47 - error TS7031: Binding element 'alias' implicitly has an 'any' type.

71         config.resolve.alias.forEach(({ name, alias }) => {
                                                 ~~~~~

next.config.ts:72:11 - error TS7053: Element implicitly has an 'any' type because expression of type 'any' c
an't be used to index type '{}'.

72           aliasObj[name] = alias;
             ~~~~~~~~~~~~~~

src/app/api/config.ts:56:55 - error TS2345: Argument of type 'string | undefined' is not assignable to param
eter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

56                 response.headers.set('Cache-Control', finalConfig.cacheControlHeaders || defaultEdgeConfi
g.cacheControlHeaders)
                                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~

src/app/api/itinerary/[itineraryId]/route.ts:3:10 - error TS2305: Module '"@/db/schema"' has no exported mem
ber 'db'.

3 import { db } from '@/db/schema'
           ~~

src/app/api/itinerary/route.ts:70:13 - error TS2322: Type 'ItineraryQuery' is not assignable to type 'SQL<un
known> | ((fields: { id: PgColumn<{ name: "id"; tableName: "itineraries"; dataType: "string"; columnType: "P
gUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more .
..; generated: undefined; }, {}, {}>; ... 8 more ...; updatedAt: PgColumn<...>; }, operators: {...'.

70             where: query,
               ~~~~~

src/app/api/itinerary/route.ts:71:24 - error TS2353: Object literal may only specify known properties, and '
createdAt' does not exist in type 'ValueOrArray<SQL<unknown> | AnyColumn> | ((fields: { id: PgColumn<{ name:
 "id"; tableName: "itineraries"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string
; ... 8 more ...; generated: undefined; }, {}, {}>; ... 8 more ...; updatedAt: PgColumn<...>; }, operators:
{ ...; }) => ValueOrArray<.....'.

71             orderBy: { createdAt: 'desc' }
                          ~~~~~~~~~

src/app/api/itinerary/route.ts:96:46 - error TS2339: Property 'itineraries' does not exist on type '<TTable 
extends PgTable>(table: TTable) => PgInsertBuilder<TTable, PostgresJsQueryResultHKT, false>'.

96         const newItinerary = await db.insert.itineraries.values({
                                                ~~~~~~~~~~~

src/app/api/parks/route.ts:68:29 - error TS2345: Argument of type '(request: NextRequest) => Promise<NextRes
ponse<ApiResponse<any>> | undefined>' is not assignable to parameter of type '(req: NextRequest, event: Next
FetchEvent) => NextResponse<unknown> | Promise<NextResponse<unknown>>'.
  Type 'Promise<NextResponse<ApiResponse<any>> | undefined>' is not assignable to type 'NextResponse<unknown
> | Promise<NextResponse<unknown>>'.
    Type 'Promise<NextResponse<ApiResponse<any>> | undefined>' is not assignable to type 'Promise<NextRespon
se<unknown>>'.
      Type 'NextResponse<ApiResponse<any>> | undefined' is not assignable to type 'NextResponse<unknown>'.
        Type 'undefined' is not assignable to type 'NextResponse<unknown>'.

68 export const GET = withEdge(handleGet, {
                               ~~~~~~~~~

src/app/dashboard/events/[eventId]/page.tsx:83:35 - error TS2339: Property 'location' does not exist on type
 'never'.

83             default: return event.location
                                     ~~~~~~~~

src/app/dashboard/events/[eventId]/page.tsx:102:36 - error TS2322: Type '"default" | "destructive" | "second
ary" | "blue" | "purple" | "yellow"' is not assignable to type '"default" | "destructive" | "outline" | "sec
ondary" | null | undefined'.
  Type '"blue"' is not assignable to type '"default" | "destructive" | "outline" | "secondary" | null | unde
fined'.

102                             <Badge variant={getBadgeVariant()}>{getCategoryLabel()}</Badge>
                                       ~~~~~~~

  src/components/ui/badge.tsx:11:7
     11       variant: {
              ~~~~~~~~~~
     12         default:
        ~~~~~~~~~~~~~~~~
    ... 
     19           "text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     20       },
        ~~~~~~~
    The expected type comes from property 'variant' which is declared here on type 'IntrinsicAttributes & Cl
assAttributes<HTMLSpanElement> & HTMLAttributes<HTMLSpanElement> & VariantProps<...> & { ...; }'

src/app/dashboard/events/[eventId]/page.tsx:105:46 - error TS2322: Type '"success"' is not assignable to typ
e '"default" | "destructive" | "outline" | "secondary" | null | undefined'.

105                                     ? <Badge variant="success">Now Active</Badge>
                                                 ~~~~~~~

  src/components/ui/badge.tsx:11:7
     11       variant: {
              ~~~~~~~~~~
     12         default:
        ~~~~~~~~~~~~~~~~
    ... 
     19           "text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     20       },
        ~~~~~~~
    The expected type comes from property 'variant' which is declared here on type 'IntrinsicAttributes & Cl
assAttributes<HTMLSpanElement> & HTMLAttributes<HTMLSpanElement> & VariantProps<...> & { ...; }'

src/app/dashboard/events/[eventId]/page.tsx:125:33 - error TS2322: Type 'string | undefined' is not assignab
le to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

125                                 alt={event.images[0].alt}
                                    ~~~

  node_modules/next/dist/client/image-component.d.ts:13:5
    13     alt: string;
           ~~~
    The expected type comes from property 'alt' which is declared here on type 'IntrinsicAttributes & Omit<D
etailedHTMLProps<ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>, "ref" | ... 5 more ... | "srcSet">
& { ...; } & RefAttributes<...>'

src/app/dashboard/group/page.tsx:4:28 - error TS2307: Cannot find module '@/components/group/PartyMessaging'
 or its corresponding type declarations.

4 import PartyMessaging from "@/components/group/PartyMessaging"
                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

src/app/dashboard/itinerary/[itineraryId]/page.tsx:4:10 - error TS2305: Module '"@/db/schema"' has no export
ed member 'db'.

4 import { db } from '@/db/schema'
           ~~

src/app/dashboard/itinerary/[itineraryId]/page.tsx:68:42 - error TS7006: Parameter 'day' implicitly has an '
any' type.

68     const dates = itinerary.parkDays.map(day => new Date(day.date))
                                            ~~~

src/app/dashboard/itinerary/[itineraryId]/page.tsx:69:52 - error TS7006: Parameter 'a' implicitly has an 'an
y' type.

69     const startDate = dates.length ? dates.reduce((a, b) => a < b ? a : b) : new Date()
                                                      ~

src/app/dashboard/itinerary/[itineraryId]/page.tsx:69:55 - error TS7006: Parameter 'b' implicitly has an 'an
y' type.

69     const startDate = dates.length ? dates.reduce((a, b) => a < b ? a : b) : new Date()
                                                         ~

src/app/dashboard/itinerary/[itineraryId]/page.tsx:70:50 - error TS7006: Parameter 'a' implicitly has an 'an
y' type.

70     const endDate = dates.length ? dates.reduce((a, b) => a > b ? a : b) : new Date()
                                                    ~

src/app/dashboard/itinerary/[itineraryId]/page.tsx:70:53 - error TS7006: Parameter 'b' implicitly has an 'an
y' type.

70     const endDate = dates.length ? dates.reduce((a, b) => a > b ? a : b) : new Date()
                                                       ~

src/app/dashboard/itinerary/[itineraryId]/page.tsx:74:10 - error TS7006: Parameter 'sum' implicitly has an '
any' type.

74         (sum, day) => sum + day.activities.length,
            ~~~

src/app/dashboard/itinerary/[itineraryId]/page.tsx:74:15 - error TS7006: Parameter 'day' implicitly has an '
any' type.

74         (sum, day) => sum + day.activities.length,
                 ~~~

src/app/dashboard/itinerary/[itineraryId]/page.tsx:239:74 - error TS7006: Parameter 'activity' implicitly ha
s an 'any' type.

239                                                     {day.activities.map((activity, i) => (
                                                                             ~~~~~~~~

src/app/dashboard/itinerary/[itineraryId]/page.tsx:239:84 - error TS7006: Parameter 'i' implicitly has an 'a
ny' type.

239                                                     {day.activities.map((activity, i) => (
                                                                                       ~

src/app/dashboard/optimizer/page.tsx:553:58 - error TS2322: Type 'UseFormReturn<{ date: Date; partySize: num
ber; parkId: string; hasChildren: boolean; hasStroller: boolean; mobilityConsiderations: boolean; ridePrefer
ence: "thrill" | "family" | "all"; maxWaitTime: number; ... 17 more ...; maxLightningLaneBudget?: number | u
ndefined; }, any, { ...; }>' is not assignable to type 'UseFormReturn<LightningLaneFormData>'.
  Types of property 'watch' are incompatible.
    Type 'UseFormWatch<{ date: Date; partySize: number; parkId: string; hasChildren: boolean; hasStroller: b
oolean; mobilityConsiderations: boolean; ridePreference: "thrill" | "family" | "all"; maxWaitTime: number; .
.. 17 more ...; maxLightningLaneBudget?: number | undefined; }>' is not assignable to type 'UseFormWatch<Lig
htningLaneFormData>'.
      Types of parameters 'callback' and 'callback' are incompatible.
        Types of parameters 'info' and 'info' are incompatible.
          Type '{ name?: "date" | "childrenAges" | "partySize" | "startTime" | "parkId" | "endTime" | "hasCh
ildren" | "hasStroller" | "mobilityConsiderations" | "ridePreference" | "maxWaitTime" | ... 18 more ... | un
defined; type?: EventType | undefined; values?: unknown; }' is not assignable to type '{ name?: "useGeniePlu
s" | "useIndividualLightningLane" | "maxLightningLaneBudget" | undefined; type?: EventType | undefined; valu
es?: unknown; }'.
            Types of property 'name' are incompatible.
              Type '"date" | "childrenAges" | "partySize" | "startTime" | "parkId" | "endTime" | "hasChildre
n" | "hasStroller" | "mobilityConsiderations" | "ridePreference" | "maxWaitTime" | "walkingPace" | ... 17 mo
re ... | undefined' is not assignable to type '"useGeniePlus" | "useIndividualLightningLane" | "maxLightning
LaneBudget" | undefined'.
                Type '"date"' is not assignable to type '"useGeniePlus" | "useIndividualLightningLane" | "ma
xLightningLaneBudget" | undefined'.

553                             <LightningLaneOptionsSection form={form} />
                                                             ~~~~

  src/app/dashboard/optimizer/components/lightning-lane-options.tsx:36:5
    36     form: UseFormReturn<LightningLaneFormData>
           ~~~~
    The expected type comes from property 'form' which is declared here on type 'IntrinsicAttributes & Light
ningLaneOptionsSectionProps'

src/app/dashboard/optimizer/page.tsx:555:59 - error TS2322: Type 'UseFormReturn<{ date: Date; partySize: num
ber; parkId: string; hasChildren: boolean; hasStroller: boolean; mobilityConsiderations: boolean; ridePrefer
ence: "thrill" | "family" | "all"; maxWaitTime: number; ... 17 more ...; maxLightningLaneBudget?: number | u
ndefined; }, any, { ...; }>' is not assignable to type 'UseFormReturn<OptimizerFormData>'.
  Types of property 'watch' are incompatible.
    Type 'UseFormWatch<{ date: Date; partySize: number; parkId: string; hasChildren: boolean; hasStroller: b
oolean; mobilityConsiderations: boolean; ridePreference: "thrill" | "family" | "all"; maxWaitTime: number; .
.. 17 more ...; maxLightningLaneBudget?: number | undefined; }>' is not assignable to type 'UseFormWatch<Opt
imizerFormData>'.
      Type 'OptimizerFormData' is missing the following properties from type '{ date: Date; partySize: numbe
r; parkId: string; hasChildren: boolean; hasStroller: boolean; mobilityConsiderations: boolean; ridePreferen
ce: "thrill" | "family" | "all"; maxWaitTime: number; ... 17 more ...; maxLightningLaneBudget?: number | und
efined; }': date, partySize, parkId, hasChildren, and 14 more.

555                             <AttractionPreferencesSection form={form} parkId={form.watch("parkId")} />
                                                              ~~~~

  src/app/dashboard/optimizer/components/attraction-preferences.tsx:39:5
    39     form: UseFormReturn<OptimizerFormData>
           ~~~~
    The expected type comes from property 'form' which is declared here on type 'IntrinsicAttributes & Attra
ctionPreferencesSectionProps'

src/app/map/page.tsx:96:46 - error TS2339: Property 'length' does not exist on type 'Promise<GeofenceData[]>
'.

96         if (savedGeofences && savedGeofences.length > 0) {
                                                ~~~~~~

  src/app/map/page.tsx:96:46
    96         if (savedGeofences && savedGeofences.length > 0) {
                                                    ~~~~~~
    Did you forget to use 'await'?

src/app/map/page.tsx:97:26 - error TS2345: Argument of type 'Promise<GeofenceData[]>' is not assignable to p
arameter of type 'SetStateAction<GeofenceData[]>'.

97             setGeofences(savedGeofences);
                            ~~~~~~~~~~~~~~

  src/app/map/page.tsx:97:26
    97             setGeofences(savedGeofences);
                                ~~~~~~~~~~~~~~
    Did you forget to use 'await'?

src/app/map/page.tsx:102:42 - error TS2339: Property 'length' does not exist on type 'Promise<GroupMember[]>
'.

102         if (savedMembers && savedMembers.length > 0) {
                                             ~~~~~~

  src/app/map/page.tsx:102:42
    102         if (savedMembers && savedMembers.length > 0) {
                                                 ~~~~~~
    Did you forget to use 'await'?

src/app/map/page.tsx:103:29 - error TS2345: Argument of type 'Promise<GroupMember[]>' is not assignable to p
arameter of type 'SetStateAction<GroupMember[]>'.

103             setGroupMembers(savedMembers);
                                ~~~~~~~~~~~~

  src/app/map/page.tsx:103:29
    103             setGroupMembers(savedMembers);
                                    ~~~~~~~~~~~~
    Did you forget to use 'await'?

src/components/magicui/bento-grid.tsx:60:13 - error TS2322: Type 'string' is not assignable to type 'never'.

60       <Icon className="h-12 w-12 origin-left transform-gpu text-neutral-700 transition-all duration-300 e
ase-in-out group-hover:scale-75" />
               ~~~~~~~~~

src/components/magicui/confetti.tsx:20:18 - error TS2305: Module '"@/components/ui/button"' has no exported 
member 'ButtonProps'.

20 import { Button, ButtonProps } from "@/components/ui/button";
                    ~~~~~~~~~~~

src/components/magicui/pointer.tsx:27:19 - error TS2503: Cannot find namespace 'JSX'.

27 }: PointerProps): JSX.Element {
                     ~~~

src/components/magicui/video-text.tsx:101:6 - error TS2746: This JSX tag's 'children' prop expects a single 
child of type 'never', but multiple children were provided.

101     <Component className={cn(`relative size-full`, className)}>
         ~~~~~~~~~

src/components/magicui/video-text.tsx:101:16 - error TS2322: Type 'string' is not assignable to type 'never'
.

101     <Component className={cn(`relative size-full`, className)}>
                   ~~~~~~~~~

src/components/ui/calendar.tsx:63:9 - error TS2353: Object literal may only specify known properties, and 'I
conLeft' does not exist in type 'Partial<CustomComponents>'.

63         IconLeft: ({ className, ...props }) => (
           ~~~~~~~~

  node_modules/react-day-picker/dist/esm/types/props.d.ts:276:5
    276     components?: Partial<CustomComponents>;
            ~~~~~~~~~~
    The expected type comes from property 'components' which is declared here on type 'IntrinsicAttributes &
 DayPickerProps'

src/components/ui/calendar.tsx:63:22 - error TS7031: Binding element 'className' implicitly has an 'any' typ
e.

63         IconLeft: ({ className, ...props }) => (
                        ~~~~~~~~~

src/components/ui/calendar.tsx:66:23 - error TS7031: Binding element 'className' implicitly has an 'any' typ
e.

66         IconRight: ({ className, ...props }) => (
                         ~~~~~~~~~

src/hooks/useRealtimeDatabase.ts:159:40 - error TS2345: Argument of type 'Record<string, GroupMemberLocation
>' is not assignable to parameter of type 'SetStateAction<Record<string, MemberLocation>>'.

159                     setMemberLocations(members)
                                           ~~~~~~~

src/hooks/useRealtimeDatabase.ts:337:38 - error TS2345: Argument of type 'Record<string, Notification>' is n
ot assignable to parameter of type 'SetStateAction<Record<string, Notification>>'.

337                     setNotifications(newNotifications)
                                         ~~~~~~~~~~~~~~~~

src/hooks/useRealtimeDatabase.ts:341:25 - error TS2769: No overload matches this call.
  Overload 1 of 2, '(predicate: (value: Notification, index: number, array: Notification[]) => value is Noti
fication, thisArg?: any): Notification[]', gave the following error.
    Argument of type '(notification: Notification) => boolean' is not assignable to parameter of type '(valu
e: Notification, index: number, array: Notification[]) => value is Notification'.
      Types of parameters 'notification' and 'value' are incompatible.
        Property 'id' is missing in type 'import("/Users/williamcarrico/Web App Design/woody-disney-vacation
-planning/src/lib/firebase/realtime-database").Notification' but required in type 'Notification'.
  Overload 2 of 2, '(predicate: (value: Notification, index: number, array: Notification[]) => unknown, this
Arg?: any): Notification[]', gave the following error.
    Argument of type '(notification: Notification) => boolean' is not assignable to parameter of type '(valu
e: Notification, index: number, array: Notification[]) => unknown'.
      Types of parameters 'notification' and 'value' are incompatible.
        Property 'id' is missing in type 'import("/Users/williamcarrico/Web App Design/woody-disney-vacation
-planning/src/lib/firebase/realtime-database").Notification' but required in type 'Notification'.

341                         (notification: Notification) => !notification.read
                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  src/hooks/useRealtimeDatabase.ts:44:5
    44     id: string
           ~~
    'id' is declared here.
  src/hooks/useRealtimeDatabase.ts:44:5
    44     id: string
           ~~
    'id' is declared here.

src/hooks/useVacation.ts:142:9 - error TS2769: No overload matches this call.
  Overload 1 of 3, '(options: DefinedInitialDataOptions<unknown, Error, unknown, readonly ["vacations", "vac
ation", string, "details"]>, queryClient?: QueryClient | undefined): DefinedUseQueryResult<...>', gave the f
ollowing error.
    Object literal may only specify known properties, and 'cacheTime' does not exist in type 'DefinedInitial
DataOptions<unknown, Error, unknown, readonly ["vacations", "vacation", string, "details"]>'.
  Overload 2 of 3, '(options: UndefinedInitialDataOptions<VacationServiceResponse<{ status: "upcoming" | "ac
tive" | "completed" | "archived"; id: string; name: string; createdAt: string; updatedAt: string; startDate:
 string; endDate: string; destination: string; ... 10 more ...; formattedDateRange: string; }>, Error, Vacat
ionServiceResponse<...>, readonly [...]>, queryClient?: QueryClient | undefined): UseQueryResult<...>', gave
 the following error.
    Object literal may only specify known properties, and 'cacheTime' does not exist in type 'UndefinedIniti
alDataOptions<VacationServiceResponse<{ status: "upcoming" | "active" | "completed" | "archived"; id: string
; name: string; createdAt: string; updatedAt: string; startDate: string; endDate: string; destination: strin
g; budget: { ...; } | null; ... 9 more ...; formattedDateRange: string; }>, Error, Vaca...'.
  Overload 3 of 3, '(options: UseQueryOptions<VacationServiceResponse<{ status: "upcoming" | "active" | "com
pleted" | "archived"; id: string; name: string; createdAt: string; updatedAt: string; startDate: string; end
Date: string; destination: string; ... 10 more ...; formattedDateRange: string; }>, Error, VacationServiceRe
sponse<...>, readonly [...]>, queryClient?: QueryClient | undefined): UseQueryResult<...>', gave the followi
ng error.
    Object literal may only specify known properties, and 'cacheTime' does not exist in type 'UseQueryOption
s<VacationServiceResponse<{ status: "upcoming" | "active" | "completed" | "archived"; id: string; name: stri
ng; createdAt: string; updatedAt: string; startDate: string; endDate: string; destination: string; budget: {
 ...; } | null; ... 9 more ...; formattedDateRange: string; }>, Error, VacationServiceR...'.

142         cacheTime,
            ~~~~~~~~~


src/hooks/useVacation.ts:157:21 - error TS7006: Parameter 'data' implicitly has an 'any' type.

157         onSuccess: (data) => {
                        ~~~~

src/hooks/useVacation.ts:162:19 - error TS7006: Parameter 'error' implicitly has an 'any' type.

162         onError: (error) => {
                      ~~~~~

src/hooks/useVacation.ts:346:27 - error TS2339: Property 'success' does not exist on type '{}'.

346         return queryData?.success ? queryData.data : undefined
                              ~~~~~~~

src/hooks/useVacation.ts:346:47 - error TS2339: Property 'data' does not exist on type '{}'.

346         return queryData?.success ? queryData.data : undefined
                                                  ~~~~

src/hooks/useVacation.ts:373:33 - error TS2339: Property 'metadata' does not exist on type '{}'.

373         lastFetched: queryData?.metadata?.fetchedAt,
                                    ~~~~~~~~

src/hooks/useVacation.ts:374:28 - error TS2339: Property 'metadata' does not exist on type '{}'.

374         cached: queryData?.metadata?.cached || false,
                               ~~~~~~~~

src/hooks/useVacation.ts:375:31 - error TS2339: Property 'metadata' does not exist on type '{}'.

375         requestId: queryData?.metadata?.requestId,
                                  ~~~~~~~~

src/hooks/useVacation.ts:376:33 - error TS2339: Property 'metadata' does not exist on type '{}'.

376         performance: queryData?.metadata?.performance
                                    ~~~~~~~~

src/lib/data/annual-events.ts:27:13 - error TS2741: Property 'type' is missing in type '{ url: string; alt: 
string; width: number; height: number; }' but required in type 'Image'.

 27             {
                ~
 28                 url: '/images/events/mickeys-not-so-scary-halloween-party.jpg',
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
... 
 31                 height: 800
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~
 32             }
    ~~~~~~~~~~~~~

  src/types/api.ts:148:5
    148     type: 'ICON' | 'BANNER' | 'BACKGROUND' | 'DETAIL';
            ~~~~
    'type' is declared here.

src/lib/data/annual-events.ts:58:13 - error TS2741: Property 'type' is missing in type '{ url: string; alt: 
string; width: number; height: number; }' but required in type 'Image'.

 58             {
                ~
 59                 url: '/images/events/mickeys-very-merry-christmas-party.jpg',
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
... 
 62                 height: 800
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~
 63             }
    ~~~~~~~~~~~~~

  src/types/api.ts:148:5
    148     type: 'ICON' | 'BANNER' | 'BACKGROUND' | 'DETAIL';
            ~~~~
    'type' is declared here.

src/lib/data/annual-events.ts:90:13 - error TS2741: Property 'type' is missing in type '{ url: string; alt: 
string; width: number; height: number; }' but required in type 'Image'.

 90             {
                ~
 91                 url: '/images/events/epcot-food-and-wine-festival.jpg',
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
... 
 94                 height: 800
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~
 95             }
    ~~~~~~~~~~~~~

  src/types/api.ts:148:5
    148     type: 'ICON' | 'BANNER' | 'BACKGROUND' | 'DETAIL';
            ~~~~
    'type' is declared here.

src/lib/data/annual-events.ts:122:13 - error TS2741: Property 'type' is missing in type '{ url: string; alt:
 string; width: number; height: number; }' but required in type 'Image'.

122             {
                ~
123                 url: '/images/events/epcot-flower-and-garden-festival.jpg',
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
... 
126                 height: 800
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~
127             }
    ~~~~~~~~~~~~~

  src/types/api.ts:148:5
    148     type: 'ICON' | 'BANNER' | 'BACKGROUND' | 'DETAIL';
            ~~~~
    'type' is declared here.

src/lib/data/annual-events.ts:154:13 - error TS2741: Property 'type' is missing in type '{ url: string; alt:
 string; width: number; height: number; }' but required in type 'Image'.

154             {
                ~
155                 url: '/images/events/epcot-festival-of-the-arts.jpg',
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
... 
158                 height: 800
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~
159             }
    ~~~~~~~~~~~~~

  src/types/api.ts:148:5
    148     type: 'ICON' | 'BANNER' | 'BACKGROUND' | 'DETAIL';
            ~~~~
    'type' is declared here.

src/lib/data/annual-events.ts:184:13 - error TS2741: Property 'type' is missing in type '{ url: string; alt:
 string; width: number; height: number; }' but required in type 'Image'.

184             {
                ~
185                 url: '/images/events/epcot-festival-of-the-holidays.jpg',
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
... 
188                 height: 800
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~
189             }
    ~~~~~~~~~~~~~

  src/types/api.ts:148:5
    148     type: 'ICON' | 'BANNER' | 'BACKGROUND' | 'DETAIL';
            ~~~~
    'type' is declared here.

src/lib/data/annual-events.ts:212:13 - error TS2741: Property 'type' is missing in type '{ url: string; alt:
 string; width: number; height: number; }' but required in type 'Image'.

212             {
                ~
213                 url: '/images/events/candlelight-processional.jpg',
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
... 
216                 height: 800
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~
217             }
    ~~~~~~~~~~~~~

  src/types/api.ts:148:5
    148     type: 'ICON' | 'BANNER' | 'BACKGROUND' | 'DETAIL';
            ~~~~
    'type' is declared here.

src/lib/data/annual-events.ts:239:13 - error TS2741: Property 'type' is missing in type '{ url: string; alt:
 string; width: number; height: number; }' but required in type 'Image'.

239             {
                ~
240                 url: '/images/events/rundisney-marathon-weekend.jpg',
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
... 
243                 height: 800
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~
244             }
    ~~~~~~~~~~~~~

  src/types/api.ts:148:5
    148     type: 'ICON' | 'BANNER' | 'BACKGROUND' | 'DETAIL';
            ~~~~
    'type' is declared here.

src/lib/data/annual-events.ts:262:13 - error TS2741: Property 'type' is missing in type '{ url: string; alt:
 string; width: number; height: number; }' but required in type 'Image'.

262             {
                ~
263                 url: '/images/events/h2o-glow-nights.jpg',
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
... 
266                 height: 800
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~
267             }
    ~~~~~~~~~~~~~

  src/types/api.ts:148:5
    148     type: 'ICON' | 'BANNER' | 'BACKGROUND' | 'DETAIL';
            ~~~~
    'type' is declared here.

src/lib/data/annual-events.ts:285:13 - error TS2741: Property 'type' is missing in type '{ url: string; alt:
 string; width: number; height: number; }' but required in type 'Image'.

285             {
                ~
286                 url: '/images/events/disney-after-hours.jpg',
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
... 
289                 height: 800
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~
290             }
    ~~~~~~~~~~~~~

  src/types/api.ts:148:5
    148     type: 'ICON' | 'BANNER' | 'BACKGROUND' | 'DETAIL';
            ~~~~
    'type' is declared here.

src/lib/data/annual-events.ts:307:13 - error TS2741: Property 'type' is missing in type '{ url: string; alt:
 string; width: number; height: number; }' but required in type 'Image'.

307             {
                ~
308                 url: '/images/events/disney-parks-christmas-day-parade.jpg',
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
... 
311                 height: 800
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~
312             }
    ~~~~~~~~~~~~~

  src/types/api.ts:148:5
    148     type: 'ICON' | 'BANNER' | 'BACKGROUND' | 'DETAIL';
            ~~~~
    'type' is declared here.

src/lib/data/restaurants.ts:311:34 - error TS2339: Property 'KIDS_MENU' does not exist on type 'typeof Acces
sibilityFeature'.

311             AccessibilityFeature.KIDS_MENU
                                     ~~~~~~~~~

src/lib/data/restaurants.ts:681:28 - error TS2339: Property 'WATERFRONT' does not exist on type 'typeof Spec
ialFeature'.

681             SpecialFeature.WATERFRONT,
                               ~~~~~~~~~~

src/lib/data/restaurants.ts:759:12 - error TS7053: Element implicitly has an 'any' type because expression o
f type 'DisneyLocation' can't be used to index type '{ "magic-kingdom": DisneyRestaurant[]; epcot: DisneyRes
taurant[]; "hollywood-studios": DisneyRestaurant[]; "disney-springs": DisneyRestaurant[]; }'.
  Property '[DisneyLocation.ANIMAL_KINGDOM]' does not exist on type '{ "magic-kingdom": DisneyRestaurant[]; 
epcot: DisneyRestaurant[]; "hollywood-studios": DisneyRestaurant[]; "disney-springs": DisneyRestaurant[]; }'
.

759     return restaurantsByLocation[locationId] || [];
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

src/lib/firebase/initialization.ts:32:13 - error TS2322: Type 'string | null' is not assignable to type 'str
ing | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.

32             photoURL: firebaseUser.photoURL,
               ~~~~~~~~

src/lib/firebase/initialization.ts:33:13 - error TS2322: Type 'string | null' is not assignable to type 'str
ing | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.

33             phoneNumber: firebaseUser.phoneNumber,
               ~~~~~~~~~~~

src/lib/firebase/initialization.ts:81:9 - error TS2353: Object literal may only specify known properties, an
d 'travelers' does not exist in type 'Omit<{ name: string; description?: string | undefined; destination: st
ring; startDate: string; endDate: string; createdBy: string; createdAt: number; updatedAt: number; status: "
active" | "completed" | "planning" | "confirmed"; imageUrl?: string | undefined; shareCode?: string | undefi
ned; }, "createdAt" | ... 1 mor...'.

81         travelers: { adults: 2, children: 0 }
           ~~~~~~~~~

src/lib/services/wait-time-scraper.ts:388:60 - error TS18046: 'error' is of type 'unknown'.

388                     session.errors.push(`${target.name}: ${error.message}`);
                                                               ~~~~~

src/lib/services/wait-time-scraper.ts:406:33 - error TS18046: 'error' is of type 'unknown'.

406             session.errors.push(error.message);
                                    ~~~~~

src/lib/utils/attractionData.ts:198:9 - error TS2739: Type '{ performanceTimes: string[]; }' is missing the 
following properties from type 'Schedule': openingTime, closingTime

198         schedule: {
            ~~~~~~~~

  src/types/attraction.ts:19:5
    19     schedule?: Schedule;
           ~~~~~~~~
    The expected type comes from property 'schedule' which is declared here on type 'Attraction'


Found 101 errors in 40 files.

Errors  Files
     1  .next/types/app/api/attractions/[attractionId]/route.ts:49
     1  .next/types/app/api/attractions/[attractionId]/wait-times/route.ts:49
     1  .next/types/app/api/example/route.ts:12
     3  .next/types/app/api/geofences/[geofenceId]/route.ts:49
     3  .next/types/app/api/itinerary/[itineraryId]/route.ts:49
     1  .next/types/app/api/parks/[parkId]/route.ts:49
     1  .next/types/app/api/parks/route.ts:49
     2  .next/types/app/api/restaurants/[restaurantId]/route.ts:49
     4  .next/types/app/api/vacations/[vacationId]/events/route.ts:49
     3  .next/types/app/api/vacations/[vacationId]/route.ts:49
     1  .next/types/app/dashboard/disneysprings/[locationId]/page.ts:34
     2  .next/types/app/dashboard/events/[eventId]/page.ts:34
     1  .next/types/app/dashboard/group/page.ts:34
     1  .next/types/app/dashboard/itinerary/[itineraryId]/page.ts:34
     1  .next/types/app/dashboard/planning/page.ts:34
     2  .next/types/app/examples/firebase-realtime/page.ts:2
     2  .next/types/app/examples/gsap/page.ts:2
     1  .next/types/app/shared-itinerary/[shareCode]/page.ts:34
     3  next.config.ts:71
     1  src/app/api/config.ts:56
     1  src/app/api/itinerary/[itineraryId]/route.ts:3
     3  src/app/api/itinerary/route.ts:70
     1  src/app/api/parks/route.ts:68
     4  src/app/dashboard/events/[eventId]/page.tsx:83
     1  src/app/dashboard/group/page.tsx:4
    10  src/app/dashboard/itinerary/[itineraryId]/page.tsx:4
     2  src/app/dashboard/optimizer/page.tsx:553
     4  src/app/map/page.tsx:96
     1  src/components/magicui/bento-grid.tsx:60
     1  src/components/magicui/confetti.tsx:20
     1  src/components/magicui/pointer.tsx:27
     2  src/components/magicui/video-text.tsx:101
     3  src/components/ui/calendar.tsx:63
     3  src/hooks/useRealtimeDatabase.ts:159
     9  src/hooks/useVacation.ts:142
    11  src/lib/data/annual-events.ts:27
     3  src/lib/data/restaurants.ts:311
     3  src/lib/firebase/initialization.ts:32
     2  src/lib/services/wait-time-scraper.ts:388
     1  src/lib/utils/attractionData.ts:198

```

---

The TypeScript errors are mostly unrelated to our specific file - they're project-wide issues. The important thing is that our specific file (`src/app/api/geofences/alerts/route.ts`) is now working correctly. Let me verify this by checking if our file appears in the error list:

Looking at the error output, I don't see `src/app/api/geofences/alerts/route.ts` listed among the files with errors, which means our fixes were successful!

## Summary

I've successfully fixed all the TypeScript and ESLint errors in the `src/app/api/geofences/alerts/route.ts` file. Here's what was corrected:

### Issues Fixed:

1. **Removed explicit `any` types** - Replaced with proper type assertions and specific types
2. **Fixed Drizzle ORM query patterns** - Used proper query building patterns instead of reassigning queries
3. **Corrected count query syntax** - Used the proper `count()` function from Drizzle instead of raw SQL string
4. **Fixed array update operations** - Used `inArray()` function for updating multiple records by ID
5. **Improved type safety** - Added proper type definitions and validations

### Key Changes Made:

1. **Line 35**: Replaced `alertType as any` with proper type validation and assertion
2. **Lines 47-58**: Restructured query building to use proper Drizzle patterns
3. **Lines 63-72**: Fixed count query using proper `count()` function and removed `as any`
4. **Line 181**: Replaced `any` type with proper Partial type for update data
5. **Line 189**: Used `inArray()` function for updating multiple records instead of `eq()` with array

### Benefits:

- **Type Safety**: All operations are now properly typed
- **Performance**: Using proper Drizzle patterns for better query optimization
- **Maintainability**: Code is more readable and follows TypeScript best practices
- **Error Prevention**: Proper typing prevents runtime errors

The file now follows the [TypeScript ESLint no-explicit-any rule](https://typescript-eslint.io/rules/no-explicit-any) and uses safer alternatives like `unknown`, proper type assertions, and specific interface definitions as recommended in the documentation.

---

